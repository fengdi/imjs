"use strict";(function(a){const b={}.toString,c=a=>"[object Function]"===b.call(a),d=document,e=d.getElementsByTagName("head")[0]||d.documentElement,f=/[^\/]+?$/,g=a=>/^(?:\/|@|\w+:)/.test(a),h=()=>d.currentScript,i=a=>{a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/");let b=a.split("/"),c=g(a),d="";c&&(d=b.shift()+"//");for(let d=0;d<b.length;)".."===b[d]?0<d&&".."!==b[d-1]?b.splice(--d,2):c?b.splice(d,1):++d:"."===b[d]?b.splice(d,1):++d;return d+b.join("/")},j=a=>a.match(/\//)?a.replace(f,""):"./",k=a=>(f.exec(a)||[""])[0],l=(b,c)=>{const e=r.cwd,h=d.createElement("a");return f.test(b)?b=/\.js$/.test(b)?b:`${b}.js`:b+=r.default,h.href=i(g(b)?b.replace(/^@\//,`${e}/`):`${c||e}/${b}`),i(h.href)},m={},n=(...a)=>{const[b,c,e]=a;let g,l,n;const o=h(),p=o&&o.$moduleId;if(1==a.length)[g,l,n]=[p,[],b];else if(2==a.length)[g,l,n]=[p,b,c];else if(3==a.length)[g,l,n]=[b,c,e];else throw new Error("Arguments error.");return m[g]={id:g,deps:l,factory:n,dirname:j(g),filename:k(g),time:new Date().getTime()}},o=a=>new Promise((b,c)=>{const f=d.createElement("script");f.addEventListener("load",()=>{b(m[a])},{once:!0}),f.addEventListener("error",()=>{c(`Not Found Module: ${a}`)},{once:!0}),f.$moduleId=a,f.src=a+(r.tag?"?"+r.tag:""),e.insertBefore(f,e.firstChild)}),p={},q=a=>{const b=l(a);return p[b]&&n(a,[],p[b])},r=async function(a,b){const d=l(a),e=m[d]||(await o(d))||q(a);if(!e)throw new Error(`The module ${a} is not defined. You can define AMD module or use hook.`);const{deps:i=[],factory:f,dirname:g,filename:h}=e;return"export"in e||(e.export=await f.apply({dirname:g,filename:h},(await Promise.all(i.map(a=>r(l(a,g)))))||[]),c(b)&&b(e.export)),e.export};n.amd=!0,a.define=n,a.require=r,r.modules=m,r.default="",r.cwd="",r.tag="",r.main="",r.setHook=(a,b)=>p[l(a)]=b;const s=h();if(s)try{const b=s.attributes;["cwd","tag","main","default"].forEach(c=>{let d;(d=b[`data-${c}`])&&(r[c]=d.nodeValue)})}catch(a){throw a}r.main&&r(r.main)})(window);

//# sourceMappingURL=im.min.js.map