"use strict";(function(a){const b={}.toString,c=a=>"[object Function]"===b.call(a),d=document,e=d.getElementsByTagName("head")[0]||d.documentElement,f=/[^\/]+?$/,g=a=>/^(?:\/|@|\w+:)/.test(a),h=()=>d.currentScript,i=a=>{a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/");let b=a.split("/"),c=g(a),d="";c&&(d=b.shift()+"//");for(let d=0;d<b.length;)".."===b[d]?0<d&&".."!==b[d-1]?b.splice(--d,2):c?b.splice(d,1):++d:"."===b[d]?b.splice(d,1):++d;return d+b.join("/")},j=a=>a.match(/\//)?a.replace(f,""):a="./",k=a=>(f.exec(a)||[""])[0],l=(b,c)=>{const e=p.cwd,h=d.createElement("a");return f.test(b)?b=/\.js$/.test(b)?b:`${b}.js`:b+=p.default,h.href=i(g(b)?b.replace(/^@\//,`${e}/`):`${c||e}/${b}`),i(h.href)},m={},n=function(a,b,c){const e=arguments;let g,l,n;const o=h(),p=o&&o.$imId;if(1==e.length)[g,l,n]=[p,[],a];else if(2==e.length)[g,l,n]=[p,a,b];else if(3==e.length)[g,l,n]=[a,b,c];else throw new Error("Arguments error.");m[g]={id:g,deps:l,factory:n,dirname:j(g),filename:k(g),time:new Date().getTime()}},o=function(a){return new Promise((b,c)=>{const f=d.createElement("script");f.addEventListener("load",()=>{b(m[a])},{once:!0}),f.addEventListener("error",()=>{c(`Not Found Module: ${a}`)},{once:!0}),f.$imId=a,f.src=a+(p.tag?"?"+p.tag:""),e.insertBefore(f,e.firstChild)})},p=async function(a,b){a=l(a);const d=m[a]||(await o(a));if(!d)throw new Error(`${a} is not AMD.`);const{deps:h=[],factory:e,dirname:f,filename:g}=d;return"export"in d||(d.export=await e.apply({dirname:f,filename:g},(await Promise.all(h.map(a=>p(l(a,f)))))||[]),c(b)&&b(d.export)),d.export};n.amd=!0,a.define=n,a.require=p,p.modules=m,p.default="",p.cwd="",p.tag="",p.main="";const q=h();if(q)try{const b=q.attributes;["cwd","tag","main","default"].forEach(c=>{let d;(d=b[`data-${c}`])&&(p[c]=d.nodeValue)})}catch(a){throw a}p.main&&p(p.main)})(window);

//# sourceMappingURL=im.min.js.map